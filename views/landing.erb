<html>
	<head>
		<title>Share My Cab - Built with <3 and sweat at the Ruby Weekend Hackathon</title>
		<link href="/jquery-ui.css" rel="stylesheet" type="text/css">
		<script src="/jquery-1.9.1.min.js"></script>
		<script src="/jquery-ui.js"></script>
		<script src="bootstrap/js/bootstrap.js"></script>
		<link href="bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css">
		<link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet" type="text/css">
		<link href="bootstrap/css/hackathon.css" rel="stylesheet" type="text/css">
		<!-- link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic' rel='stylesheet' type='text/css' -->
	</head>

	<body>
		<!-- div class="navbar">
			<div class="navbar-inner">
				<div class="container">
					<a class="brand" href="#">ShareMyCab</a>
				</div>
			</div>
		</div -->
		<div class="container">
			<div class="header">
				<img src="http://placehold.it/180x50" />
			</div>

			<div class="info-section">
				<div class="row-fluid">
					<div class="span6">
						<img src="http://placehold.it/1800x1000" />
					</div>
					<div class="span6">
						<h2>Save money and meet interesting people</h2>
						<p>Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.Save money and meet interesting people.</p>
					</div>					
				</div>
			</div>

			<div class="how-it-works">
				<h2> How it works</h2>
				<div class="row-fluid">
					<div class="span3"><img src="http://placehold.it/180x50" /></div>
					<div class="span9">
						<h3> Tell us when and where you will be arriving </h3>
						<p>Lorem Ipsum. Lorem IpsumLorem IpsumLorem IpsumLorem Ipsum</p>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span9">
						<h3>We will match your itinerary</h3>
						<p>Lorem Ipsum. Lorem IpsumLorem IpsumLorem IpsumLorem Ipsum</p>
					</div>
					<div class="span3"><img src="http://placehold.it/180x50" /></div>
				</div>
				<div class="row-fluid">
					<div class="span3"><img src="http://placehold.it/180x50" /></div>
					<div class="span9">
						<h3> You save money! </h3>
						<p>Lorem Ipsum. Lorem IpsumLorem IpsumLorem IpsumLorem Ipsum</p>
					</div>
				</div>				
			</div>

			<div class="easy-way">
				<div class="row-fluid">
					<div class="span6">
						<p>Save money and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.Save money oaisdf  and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.</p>						
					</div>
					<div class="span6">
						<p>Save money and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.Save money oaisdf  and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.Save money and meet interesting peple.</p>						
					</div>
				</div>
			</div>

			<div class="other-way">
				<div class="row-fluid">
					<div class="span4 offset4">
						<h2> Start Now! </h2>						
					</div>
				</div>
		
				<% if not SUCCESS.empty? %>
					<div class="row-fluid">						
						<div class="span6 offset3">
							<div class="alert">
								<h4>Success!</h4>
								<ul>
								<% SUCCESS.each do |message|%>
									<li><%= message %></li>
								<% end %>
								</ul>
							</div>
						</div>
					</div>
				<% end%>

				<% if not @form.errors_found.empty? %>
					<div class="row-fluid">						
						<div class="span6 offset3">
							<div class="alert">
								<h4>Whoops! Looks like something went wrong...</h4>
								<ul>
								<% @form.errors_found.each do |error|%>
									<li>Error: <%= error["msg"] %> <%= error["field"] %></li>
								<% end %>
								</ul>
							</div>
						</div>
					</div>
				<% end%>


				<div class="row-fluid">
					<div class="span3"></div>
					<div class="span6">

						<form class="form-horizontal" method="post" action="/submit">							
							<div class="control-group">
							 	<label class="control-label">Name</label>
								<div class="controls">
									<input type="text" name="name" placeholder="your full name" value="<%= @form.name %>" />
								</div>
							</div>							
							<div class="control-group">
							 	<label class="control-label">Email</label>
								<div class="controls">
									<input type="email" name="email" placeholder="your email address" value="<%= @form.email %>"/>
								</div>
							</div>							
							<div class="control-group">
							 	<label class="control-label">Phone</label>
								<div class="controls">
									<input type="phone" name="phone" placeholder="your phone number" value="<%= @form.phone %>"/>
								</div>
							</div>							
							<div class="control-group">
							 	<label class="control-label">I need a cab from</label>
								<div class="controls">
									<select name="airport">
										<% for airport in POPULAR_AIRPORTS %>
											<option value="<%= airport[0] %>"><%= airport[1] %></option>
										<% end %>
											<option>---------</option>
										<% for airport in AIRPORTS %>
											<option value="<%= airport[0] %>"><%= airport[1] %></option>
										<% end %>
									</select>
								</div>
							</div>							
							<div class="control-group">
							 	<label class="control-label">I'm arriving at</label>
								<div class="controls">
									<input name="date" type="date" id="trip_date" value="<%= @form.date %>" placeholder="Arrival date"/>  on <input name="time" type="time" id="trip_time" value="<%= @form.time %>" placeholder="Arrival Time"/>
								</div>
							</div>
							<!-- div class="control-group">
							 	<label class="control-label">Flight/Train Number(Optional)</label>
								<div class="controls">
									<input type="text">
								</div>
							</div -->
							<div class="row-fluid">
								<div class="span3">
								</div>
								<div class="span6" style="margin-bottom: 20px;">
									<hr style=" border-color: #4a7b95;"/>
								</div>
								<div class="span3">
								</div>
							</div>
							
							<div class="control-group">
							 	<label class="control-label">I want to take a cab till</label>
								<div class="controls">
									<input type="text" name="address" value="<%= @form.address %>" id="address" />
									<input type="hidden" name="destination_ref_key" id="reference_key" />
								</div>
							</div>
							<div class="control-group">
							 	<label class="control-label">I don't mind waiting</label>
								<div class="controls">
									<input type="hidden" name="time_tolerance" value="<%= @form.time_tolerance || 10 %>"/>
									<div id="time_slider_value">10 minutes</div>
									<div id="time_slider"></div>
								</div>
							</div>
							<div class="control-group">
							 	<label class="control-label">I don't mind travelling out of my way</label>
								<div class="controls">
									<input type="hidden" name="km_tolerance" value="<%= @form.km_tolerance || 3 %>"/>
									<div id="km_slider_value">3 kms</div>
									<div id="km_slider"></div>
								</div>
							</div>
							<div class="control-group">
								<div class="controls">									
									<button type="submit" class="btn btn-large btn-primary">Submit</button>
								</div>
							</div>							
						</form>
					</div>
				</div>
			</div>

			<div class="footer">				
				<h2> Meet The Team</h2>
				<div class="row-fluid">
					<div class="span4">
						<div class="row-fluid">
							<div class="span4">
								<img src="http://placehold.it/50x50" class="img-circle">
								<img src="http://placehold.it/50x50" class="img-circle">
							</div>
							<div class="span4">
								<img src="http://placehold.it/50x50" class="img-circle">
								<img src="http://placehold.it/50x50" class="img-circle">
							</div>
						</div>
					</div>
					<div class="span6">
						<p>
							Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.
							Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.
							Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.
							Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.
							Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.Lorem Ipsum.
						</p>
					</div>
				</div>
			</div>
		</div>


		<script type="text/javascript">
		$(document).ready(function() {
			$("input[name=date]").datepicker({
				'dateFormat' : 'yy-mm-dd',
				'minDate' : new Date()
			});

			$('#time_slider').slider({
				'min' : 0,
				'max' : 30,
				'value' : 10,
				'step' : 5,
				'change' : function(event, ui) {
					$('#time_slider_value').html(ui.value + ' minutes');
					$('input[name=time_tolerance]').val(ui.value);
				}
			});

			$('#km_slider').slider({
				'min' : 0,
				'max' : 10,
				'value' : 3,
				'step' : 1,
				'change' : function(event, ui) {
					$('#km_slider_value').html(ui.value + ' kms');
					$('input[name=km_tolerance]').val(ui.value);
				}
			});

		});

		var availableAddress = [];

		var address_with_reference= [];

			$( "#address" ).autocomplete({
				source: availableAddress,
				select: function(event,ui) {
					$.each(address_with_reference,function(i, v){
						if (ui["item"]["value"] == v["address"]){
							$('#reference_key').val(v["reference_key"]);
						}
					});

				}
			});

			$("#address").bind("input", function(){
				$.ajax({
				url: "/places/"+$("#address").val()
				}).done(function(data) {
					$.each(data["address_prediction"], function(i,v){
						availableAddress.push(v["address"])
						address_with_reference.push(v);
					});
				});
			});
		</script>
	</body>
</html>	